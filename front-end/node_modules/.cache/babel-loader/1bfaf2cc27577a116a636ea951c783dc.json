{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _router = require(\"../shared/lib/router/router\");\n\nvar _router1 = require(\"./router\");\n\nvar _useIntersection = require(\"./use-intersection\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nconst prefetched = {};\n\nfunction prefetch(router, href, as, options) {\n  if (typeof window === 'undefined' || !router) return;\n  if (!(0, _router).isLocalURL(href)) return; // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n\n  router.prefetch(href, as, options).catch(err => {\n    if (process.env.NODE_ENV !== 'production') {\n      // rethrow to show invalid URL errors\n      throw err;\n    }\n  });\n  const curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale; // Join on an invalid URI character\n\n  prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\n\nfunction isModifiedEvent(event) {\n  const {\n    target\n  } = event.currentTarget;\n  return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || event.nativeEvent && event.nativeEvent.which === 2;\n}\n\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale) {\n  const {\n    nodeName\n  } = e.currentTarget; // anchors inside an svg have a lowercase nodeName\n\n  const isAnchorNodeName = nodeName.toUpperCase() === 'A';\n\n  if (isAnchorNodeName && (isModifiedEvent(e) || !(0, _router).isLocalURL(href))) {\n    // ignore click for browser’s default behavior\n    return;\n  }\n\n  e.preventDefault(); // replace state instead of push if prop is present\n\n  router[replace ? 'replace' : 'push'](href, as, {\n    shallow,\n    locale,\n    scroll\n  });\n}\n\nfunction Link(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    function createPropError(args) {\n      return new Error(`Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` + (typeof window !== 'undefined' ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n    } // TypeScript trick for type-guarding:\n\n\n    const requiredPropsGuard = {\n      href: true\n    };\n    const requiredProps = Object.keys(requiredPropsGuard);\n    requiredProps.forEach(key => {\n      if (key === 'href') {\n        if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: props[key] === null ? 'null' : typeof props[key]\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _ = key;\n      }\n    }); // TypeScript trick for type-guarding:\n\n    const optionalPropsGuard = {\n      as: true,\n      replace: true,\n      scroll: true,\n      shallow: true,\n      passHref: true,\n      prefetch: true,\n      locale: true\n    };\n    const optionalProps = Object.keys(optionalPropsGuard);\n    optionalProps.forEach(key => {\n      const valType = typeof props[key];\n\n      if (key === 'as') {\n        if (props[key] && valType !== 'string' && valType !== 'object') {\n          throw createPropError({\n            key,\n            expected: '`string` or `object`',\n            actual: valType\n          });\n        }\n      } else if (key === 'locale') {\n        if (props[key] && valType !== 'string') {\n          throw createPropError({\n            key,\n            expected: '`string`',\n            actual: valType\n          });\n        }\n      } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch') {\n        if (props[key] != null && valType !== 'boolean') {\n          throw createPropError({\n            key,\n            expected: '`boolean`',\n            actual: valType\n          });\n        }\n      } else {\n        // TypeScript trick for type-guarding:\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _ = key;\n      }\n    }); // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    const hasWarned = _react.default.useRef(false);\n\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true;\n      console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n    }\n  }\n\n  const p = props.prefetch !== false;\n  const router = (0, _router1).useRouter();\n\n  const {\n    href,\n    as\n  } = _react.default.useMemo(() => {\n    const [resolvedHref, resolvedAs] = (0, _router).resolveHref(router, props.href, true);\n    return {\n      href: resolvedHref,\n      as: props.as ? (0, _router).resolveHref(router, props.as) : resolvedAs || resolvedHref\n    };\n  }, [router, props.href, props.as]);\n\n  let {\n    children,\n    replace,\n    shallow,\n    scroll,\n    locale\n  } = props;\n\n  if (typeof children === 'string') {\n    children = /*#__PURE__*/_react.default.createElement(\"a\", null, children);\n  } // This will return the first child, if multiple are provided it will throw an error\n\n\n  let child;\n\n  if (process.env.NODE_ENV === 'development') {\n    try {\n      child = _react.default.Children.only(children);\n    } catch (err) {\n      throw new Error(`Multiple children were passed to <Link> with \\`href\\` of \\`${props.href}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children` + (typeof window !== 'undefined' ? \" \\nOpen your browser's console to view the Component stack trace.\" : ''));\n    }\n  } else {\n    child = _react.default.Children.only(children);\n  }\n\n  const childRef = child && typeof child === 'object' && child.ref;\n  const [setIntersectionRef, isVisible] = (0, _useIntersection).useIntersection({\n    rootMargin: '200px'\n  });\n\n  const setRef = _react.default.useCallback(el => {\n    setIntersectionRef(el);\n\n    if (childRef) {\n      if (typeof childRef === 'function') childRef(el);else if (typeof childRef === 'object') {\n        childRef.current = el;\n      }\n    }\n  }, [childRef, setIntersectionRef]);\n\n  _react.default.useEffect(() => {\n    const shouldPrefetch = isVisible && p && (0, _router).isLocalURL(href);\n    const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n    const isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n\n    if (shouldPrefetch && !isPrefetched) {\n      prefetch(router, href, as, {\n        locale: curLocale\n      });\n    }\n  }, [as, href, isVisible, locale, p, router]);\n\n  const childProps = {\n    ref: setRef,\n    onClick: e => {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!e) {\n          throw new Error(`Component rendered inside next/link has to pass click event to \"onClick\" prop.`);\n        }\n      }\n\n      if (child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e);\n      }\n\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll, locale);\n      }\n    }\n  };\n\n  childProps.onMouseEnter = e => {\n    if (child.props && typeof child.props.onMouseEnter === 'function') {\n      child.props.onMouseEnter(e);\n    }\n\n    if ((0, _router).isLocalURL(href)) {\n      prefetch(router, href, as, {\n        priority: true\n      });\n    }\n  }; // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n\n\n  if (props.passHref || child.type === 'a' && !('href' in child.props)) {\n    const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale; // we only render domain locales if we are currently on a domain locale\n    // so that locale links are still visitable in development/preview envs\n\n    const localeDomain = router && router.isLocaleDomain && (0, _router).getDomainLocale(as, curLocale, router && router.locales, router && router.domainLocales);\n    childProps.href = localeDomain || (0, _router).addBasePath((0, _router).addLocale(as, curLocale, router && router.defaultLocale));\n  }\n\n  return /*#__PURE__*/_react.default.cloneElement(child, childProps);\n}\n\nvar _default = Link;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/schul/OneDrive/Desktop/PROIECTPORTOFOLIU/reactforum/node_modules/next/dist/client/link.js"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireDefault","require","_router","_router1","_useIntersection","obj","__esModule","prefetched","prefetch","router","href","as","options","window","isLocalURL","catch","err","process","env","NODE_ENV","curLocale","locale","isModifiedEvent","event","target","currentTarget","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","linkClicked","e","replace","shallow","scroll","nodeName","isAnchorNodeName","toUpperCase","preventDefault","Link","props","createPropError","args","Error","key","expected","actual","requiredPropsGuard","requiredProps","keys","forEach","_","optionalPropsGuard","passHref","optionalProps","valType","hasWarned","useRef","current","console","warn","p","useRouter","useMemo","resolvedHref","resolvedAs","resolveHref","children","createElement","child","Children","only","childRef","ref","setIntersectionRef","isVisible","useIntersection","rootMargin","setRef","useCallback","el","useEffect","shouldPrefetch","isPrefetched","childProps","onClick","defaultPrevented","onMouseEnter","priority","type","localeDomain","isLocaleDomain","getDomainLocale","locales","domainLocales","addBasePath","addLocale","defaultLocale","cloneElement","_default"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _router = require(\"../shared/lib/router/router\");\nvar _router1 = require(\"./router\");\nvar _useIntersection = require(\"./use-intersection\");\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nconst prefetched = {\n};\nfunction prefetch(router, href, as, options) {\n    if (typeof window === 'undefined' || !router) return;\n    if (!(0, _router).isLocalURL(href)) return;\n    // Prefetch the JSON page if asked (only in the client)\n    // We need to handle a prefetch error here since we may be\n    // loading with priority which can reject but we don't\n    // want to force navigation since this is only a prefetch\n    router.prefetch(href, as, options).catch((err)=>{\n        if (process.env.NODE_ENV !== 'production') {\n            // rethrow to show invalid URL errors\n            throw err;\n        }\n    });\n    const curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale;\n    // Join on an invalid URI character\n    prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\nfunction isModifiedEvent(event) {\n    const { target  } = event.currentTarget;\n    return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || event.nativeEvent && event.nativeEvent.which === 2;\n}\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale) {\n    const { nodeName  } = e.currentTarget;\n    // anchors inside an svg have a lowercase nodeName\n    const isAnchorNodeName = nodeName.toUpperCase() === 'A';\n    if (isAnchorNodeName && (isModifiedEvent(e) || !(0, _router).isLocalURL(href))) {\n        // ignore click for browser’s default behavior\n        return;\n    }\n    e.preventDefault();\n    // replace state instead of push if prop is present\n    router[replace ? 'replace' : 'push'](href, as, {\n        shallow,\n        locale,\n        scroll\n    });\n}\nfunction Link(props) {\n    if (process.env.NODE_ENV !== 'production') {\n        function createPropError(args) {\n            return new Error(`Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` + (typeof window !== 'undefined' ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n        }\n        // TypeScript trick for type-guarding:\n        const requiredPropsGuard = {\n            href: true\n        };\n        const requiredProps = Object.keys(requiredPropsGuard);\n        requiredProps.forEach((key)=>{\n            if (key === 'href') {\n                if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: props[key] === null ? 'null' : typeof props[key]\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n        // TypeScript trick for type-guarding:\n        const optionalPropsGuard = {\n            as: true,\n            replace: true,\n            scroll: true,\n            shallow: true,\n            passHref: true,\n            prefetch: true,\n            locale: true\n        };\n        const optionalProps = Object.keys(optionalPropsGuard);\n        optionalProps.forEach((key)=>{\n            const valType = typeof props[key];\n            if (key === 'as') {\n                if (props[key] && valType !== 'string' && valType !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'locale') {\n                if (props[key] && valType !== 'string') {\n                    throw createPropError({\n                        key,\n                        expected: '`string`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch') {\n                if (props[key] != null && valType !== 'boolean') {\n                    throw createPropError({\n                        key,\n                        expected: '`boolean`',\n                        actual: valType\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n        // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const hasWarned = _react.default.useRef(false);\n        if (props.prefetch && !hasWarned.current) {\n            hasWarned.current = true;\n            console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n        }\n    }\n    const p = props.prefetch !== false;\n    const router = (0, _router1).useRouter();\n    const { href , as  } = _react.default.useMemo(()=>{\n        const [resolvedHref, resolvedAs] = (0, _router).resolveHref(router, props.href, true);\n        return {\n            href: resolvedHref,\n            as: props.as ? (0, _router).resolveHref(router, props.as) : resolvedAs || resolvedHref\n        };\n    }, [\n        router,\n        props.href,\n        props.as\n    ]);\n    let { children , replace , shallow , scroll , locale  } = props;\n    if (typeof children === 'string') {\n        children = /*#__PURE__*/ _react.default.createElement(\"a\", null, children);\n    }\n    // This will return the first child, if multiple are provided it will throw an error\n    let child;\n    if (process.env.NODE_ENV === 'development') {\n        try {\n            child = _react.default.Children.only(children);\n        } catch (err) {\n            throw new Error(`Multiple children were passed to <Link> with \\`href\\` of \\`${props.href}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children` + (typeof window !== 'undefined' ? \" \\nOpen your browser's console to view the Component stack trace.\" : ''));\n        }\n    } else {\n        child = _react.default.Children.only(children);\n    }\n    const childRef = child && typeof child === 'object' && child.ref;\n    const [setIntersectionRef, isVisible] = (0, _useIntersection).useIntersection({\n        rootMargin: '200px'\n    });\n    const setRef = _react.default.useCallback((el)=>{\n        setIntersectionRef(el);\n        if (childRef) {\n            if (typeof childRef === 'function') childRef(el);\n            else if (typeof childRef === 'object') {\n                childRef.current = el;\n            }\n        }\n    }, [\n        childRef,\n        setIntersectionRef\n    ]);\n    _react.default.useEffect(()=>{\n        const shouldPrefetch = isVisible && p && (0, _router).isLocalURL(href);\n        const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n        const isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n        if (shouldPrefetch && !isPrefetched) {\n            prefetch(router, href, as, {\n                locale: curLocale\n            });\n        }\n    }, [\n        as,\n        href,\n        isVisible,\n        locale,\n        p,\n        router\n    ]);\n    const childProps = {\n        ref: setRef,\n        onClick: (e)=>{\n            if (process.env.NODE_ENV !== 'production') {\n                if (!e) {\n                    throw new Error(`Component rendered inside next/link has to pass click event to \"onClick\" prop.`);\n                }\n            }\n            if (child.props && typeof child.props.onClick === 'function') {\n                child.props.onClick(e);\n            }\n            if (!e.defaultPrevented) {\n                linkClicked(e, router, href, as, replace, shallow, scroll, locale);\n            }\n        }\n    };\n    childProps.onMouseEnter = (e)=>{\n        if (child.props && typeof child.props.onMouseEnter === 'function') {\n            child.props.onMouseEnter(e);\n        }\n        if ((0, _router).isLocalURL(href)) {\n            prefetch(router, href, as, {\n                priority: true\n            });\n        }\n    };\n    // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n    // defined, we specify the current 'href', so that repetition is not needed by the user\n    if (props.passHref || child.type === 'a' && !('href' in child.props)) {\n        const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n        // we only render domain locales if we are currently on a domain locale\n        // so that locale links are still visitable in development/preview envs\n        const localeDomain = router && router.isLocaleDomain && (0, _router).getDomainLocale(as, curLocale, router && router.locales, router && router.domainLocales);\n        childProps.href = localeDomain || (0, _router).addBasePath((0, _router).addLocale(as, curLocale, router && router.defaultLocale));\n    }\n    return(/*#__PURE__*/ _react.default.cloneElement(child, childProps));\n}\nvar _default = Link;\nexports.default = _default;\n\n//# sourceMappingURL=link.js.map"]},"metadata":{},"sourceType":"script"}